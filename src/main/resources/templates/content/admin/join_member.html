<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/admin_layout}"
   >

<!-- 연결해야 할 외부 css 파일  -->
<th:block layout:fragment="content_css">
	<link rel="stylesheet" href="/css/content/admin/join_member.css">
</th:block>	

<th:block layout:fragment="content">
<form action="/admin/join" method="post" id="memberForm" enctype="multipart/form-data">
	<div class="row mainContainer">
		<div class="col-12">
			<div class="row mb-3 mt-3">
				<div class="col page_title">
					<h3>회원등록</h3>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<table class="detail_info">
						<tr>
							<td>학번/교직원번호</td>
							<td>
								<div class="row">
									<div class="col-9 d-grid">
										<input type="text" name="memNo" id="memberId" class="form-control"  required placeholder="본인의 학번 및 교번을 입력하세요">
									</div>
									<div class="col-3 d-grid">
										<input type="button" class="btn btn-primary" onclick="checkId();" value="ID 중복검사">
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>비밀번호</td>
							<td class="d-grid">
								<input type="password" name="memPw" id="memPw"  required placeholder="비밀번호를 입력하세요">
								<div class="row">
									<div class="col-12" id="valiPw">
										
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>이름</td>
							<td class="d-grid">
								<input type="text" name="memName" id="memName" required placeholder="이름 입력은 필수입니다.">
								<div class="row">
									<div class="col-12" id="valiName">
										
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>주소</td>
							<td>
								<div class="row">
									<div class="col-9 d-grid">
										<input type="text" name="memAddr" required id="inputAddress" readonly onclick="searchAddr();" placeholder="주소 입력은 필수입니다." >
									</div>
									<div class="col-3 d-grid">
										<input type="button" class="btn btn-primary addr_search_btn" onclick="searchAddr();" value="검색">
									</div>
								</div>
								<div class="row">
									<div class="col-12" id="valiAddr">
										
									</div>
								</div>
								
							</td>
						</tr>
						<tr>
							<td>상세주소</td>
							<td class="d-grid">
								<input type="text" name="memAddrDetail"  id="inputAddrDetail" required placeholder="상세주소 입력은 필수입니다.">
								<div class="row">
									<div class="col-12" id="valiDetail">
									
									</div>
								</div>								
							</td>
						</tr>
						<tr>
							<td>이메일</td>
							<td>
								<div class="row">
									<div class="col-9 d-grid">
										<input type="text" name="memEmail" id="memEmail" required placeholder="이메일 입력은 필수입니다.">
									</div>
									<div class="col-3 d-grid">
										<input data-mail-auth="false" id="mailAuth" type="button" class="btn btn-primary" onclick="sendMail(this)" value="메일전송">
									</div>
								</div>
								<div class="row">
									<div class="col-9" id="valiEmail">
										
									</div>
								</div>
																	
							</td>
						</tr>
						<tr>
							<td>연락처(선택)</td>
							<td>
								<div class="row">
									<div class="col-9 d-grid">
										<input type="text" name="memTell" maxlength="13" oninput="autoHyphen2(this)" placeholder="연락처 입력은 선택입니다.">
									</div>
									<div class="col-3 d-grid">
										<input data-toggle-tell="close" type="button" class="btn btn-primary" onclick="smsToggle(this)" value="문자전송">
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>권한(필수)</td>
							<td>
								<input type="radio" checked name="memRole" value="STU">학생
								<input type="radio" name="memRole" value="PRO">교수
								<input type="radio" name="memRole" value="ADMIN">교직원
							</td>
						</tr>
						<tr>
							<td>생년월일</td>
							<td>
								<input type="date" id="memBirth" name="memBirth">
								<div class="row">
									<div class="col-12" id="valiBirth">
										
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>성별(필수)</td>
							<td>
								<input type="radio" name="memGender" value="M" checked>남
								<input type="radio" name="memGender" value="Y" >여
							</td>
						</tr>
						<tr>
							<td>이미지 등록(필수)</td>
							<td class="d-grid">
								<input type="file" id="memImg" name="mainImg">
								<div class="row">
									<div class="col-12" id="valiImg">
										
									</div>
								</div>								
							</td>
						</tr>
					</table>	
				</div>			
			</div>
			<div class="row">
				<div class="col d-grid">
					<input type="button" onclick="insertMember();" disabled id="joinBtn" class="btn btn-primary" value="회원 등록">
				</div>
			</div>
		</div>
	</div>
	<!-- 메일 인증 모달 -->
	<div class="modal fade" id="mailAuthModal" tabindex="-1">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">이메일 인증</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row justify-content-center">
						<div class="col">
							<div class="row mt-3 mb-3">
								<div class="col">
									<table class="table text-center align-middle">
										<colgroup>
											<col width="40%">
											<col width="30%">
											<col width="30%">
										</colgroup>
										<tr>
											<td>
												<div class="mail_countdown">
                                                	<span>남은시간 : </span><span id="mail_countdown">05:00</span>
                                            	</div>
											</td>
											<td>
												<div class="d-grid">
													<input type="text" id="mailAuthNum">
												</div>
											</td>
											<td>
												<div class="d-grid">
													<input type="button" value="이메일 인증" class="btn btn-primary" onclick="mailAuth_1()">
												</div>
											</td>
										</tr>
									</table>
									<div class="col">
										<div style="text-align: right;">
											남은시간이 다끝나면 창이 자동으로 닫힙니다.
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</form>	
</th:block>

<!-- 연결해야 할 외부 js 파일 -->
<th:block layout:fragment="content_js">
	<script type="text/javascript" src="/js/content/admin/join_member.js"></script>
</th:block>	

</html>