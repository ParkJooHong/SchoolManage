<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragment/professor_layout}">

<!-- 연결해야 할 외부 css파일 -->
<th:block layout:fragment="content_css">
	 <link rel="stylesheet" href="/css/content/professor/reg_lecture.css">
</th:block>

<th:block layout:fragment="content">
	<form id="regLectureForm" th:action="@{/professor/regLecture}" method="post" enctype="multipart/form-data">
		<div class="row mainContainer">
			<div class="col-12">
				<div class="row">
					<div class="col">
						<h3>강의등록</h3>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<table class="detail_info">
							<colgroup>
								<col width="15%">
								<col width="*">
							</colgroup>
							<tr>
								<td>교과목명</td>
								<td class="d-grid"><input id="lecName" type="text" name="lecName"
									required placeholder="강의명을 입력해주세요."
									onkeyup="lecNameValidate()" onblur="lecNameValidate()"></td>
							</tr>
							<tr>
								<td>학점</td>
								<td class="d-grid">
									<select name="lecScore">
										<option value="1">1</option>
										<option value="2">2</option>
										<option value="3">3</option>
									</select>								
								</td>
							</tr>
							<tr>
								<td>강의학기</td>
								<td class="d-grid">
									<th:block th:each="seme : ${semester}">
										<input type="hidden" name="semNo" value="seme.semNo">
										[[${seme.semName}]]
									</th:block>
								</td>
							</tr>
							<tr>
								<td>단과대학</td>
								<td class="d-grid"><select name="collNo" id="collSelect"
									th:onchange="getDeptList()">
										<th:block th:each="coll : ${collList}">
											<option th:value="${coll.collNo}">[[${coll.collName}]]</option>
										</th:block>
								</select></td>
							</tr>
							<tr>
								<td>소속학과</td>
								<td class="d-grid"><select name="deptNo" id="deptSelect" onchange="getProfessorList()">
										<th:block th:each="dept : ${deptList}">
											<option th:value="${dept.deptNo}">[[${dept.deptName}]]</option>
										</th:block>
								</select></td>
							</tr>
							<tr>
								<td>담당교수</td>
								<td class="d-grid"><select name="empNo" id="empSelect">
										<th:block th:each="professor : ${professorList}">
											<option th:value="${professor.empNo}">[[${professor.memName}]]</option>
										</th:block>
								</select></td>
							</tr>
							<tr>
								<td>최대 수강신청 인원</td>
								<td class="d-grid"><input id="maxMem" type="text" name="mexMem"
									required placeholder="입력하지 않을시 50명으로 입력됩니다."
									onkeyup="maxMemValidate()" onblur="maxMemValidate()"></td>
							</tr>
						</table>
					</div>
				</div>
			</div>
			<div class="col-12 mt-4">
				<div class="row">
					<div class="col">
						<h3>강의 상세 등록</h3>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<table class="detail_info">
							<colgroup>
								<col width="10%">
								<col width="10%">
								<col width="10%">
								<col width="10%">
								<col width="10%">
								<col width="10%">
								<col width="20%">
							</colgroup>
							<tbody>
							<tr>
								<td>강의 자료 등록</td>
								<td colspan="5"><input id="pdfFile" type="file" name="pdfFile" onchange="pdfFileValidate()">
								</td>
							</tr>
							<tr class="lecture_time_wrap">
								<td>강의 날짜</td>
								<td><input class="lecture_time lecDay" id="lecDay-1" type="text" name="lecDay"
									required placeholder="예)월"
									onchange="regBtnDisable(this)" onkeyup="lecDayValidate(this)" onblur="lecDayValidate(this)"
									></td>
								<td>강의 시작시간</td>
								<td><input class="lecture_time" type="text" name="startTime" id="startTime"
									required placeholder="예)14:00"
									onchange="regBtnDisable(this)" onkeyup="startTimeValidate(this)" onblur="startTimeValidate(this)"></td>
									<td>강의 종료시간</td>
								<td><input class="lecture_time" type="text" name="finishTime" id="finishTime"
									required placeholder="예)16:00"
									onchange="regBtnDisable(this)" onkeyup="finishTimeValidate(this)" onblur="finishTimeValidate(this)"></td>
								<td class="add_btn_wrap">
									<div><input class="btn btn-primary" type="button" value="추가" onclick="addLectureTime(this)"></div>
									<div><input class="btn btn-primary" type="button" value="삭제" onclick="removeLectureTime(this)"></div>
								</td>
							</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="row mb-4">
					<div class="col-12 d-grid mb-2">
						<input type="button" class="btn btn-primary btn-chk" value="시간 체크" onclick="lectureTimeCheck()">
					</div>
					<div class="col-12 d-grid">
						<input id="reg_btn" type="button" class="btn btn-primary" value="강의 등록" onclick="regLecture()" disabled>
					</div>
				</div>
			</div>
		</div>
	</form>
</th:block>

<!-- 연결해야 할 외부 js파일 -->
<th:block layout:fragment="content_js">
	 <script type="text/javascript" src="/js/content/professor/reg_lecture.js"></script>
</th:block>
</html>