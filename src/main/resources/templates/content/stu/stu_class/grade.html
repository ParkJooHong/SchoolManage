<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{fragment/info_layout}">

<th:block layout:fragment="content_css">
  <link rel="stylesheet" href="/css/content/stu/stu_class/grade.css">
</th:block>

<th:block layout:fragment="content">
<div style="font-size: 20px; color: red; font-weight: bold; margin: 10px;" >🧑‍🎓학생기본정보</div>
<div class="tableAdd">
	<table border="3" style="border-color: red; " class="default_info">
		<tr th:each="member : ${memberVO}">
			<td>학번</td>
			<td><input type="text" readonly th:value="${member.memNo}"> </td>
			<td>성명</td>
			<td><input type="text" readonly th:value="${session.memberVO.memName}"></td>
			<td>학년</td>
			<td><input type="text" readonly th:value="${member.stuVO.stuYear}">
			</td>
			<td>학적상태</td>
			<td><input type="text" readonly th:value="${member.stuVO.stuStatus}" ></td>
		</tr>
	</table>
</div>
<div style="text-align: center;">
<th:block th:each="processStatus : ${deptManageVO}">
	<tr >
		<td><input type="hidden" th:value="${processStatus.processStatus}" class="processStatus"></td>
		<td><input type="hidden" th:value="${processStatus.colleageVO.collName}" class="doubleCollName"></td>
		<td><input type="hidden" th:value="${processStatus.deptVO.deptName}" class="doubleDeptName"></td>
	</tr>
</th:block>

<th:block th:each="member : ${memberVO}">
	
	<button th:onclick="plus([[${member.memNo}]], [[${member.memName}]], [[${member.stuVO.stuYear}]] , [[${member.stuVO.stuStatus}]] , [[${memberVO.colleageVO.collName}]] , [[${memberVO.deptVO.deptName}]]  );" class="plus" style="width: 40px; height:30px; border-bottom-left-radius:10px; border-bottom-right-radius:10px;
		font-size: 20px; font-weight: bold; border-color: red;  color: white; background-color: red;">
		+
	</button>
</th:block>
</div>
<br>
<input type="hidden" th:value="${memberSubMenuVO.menuCode}" class="menuCode">
<input type="hidden" th:value="${memberSubMenuVO.subMenuCode}" class="subMenuCode">
<h8>🌐 학기별 성적 조회</h8>
<div class="row">
	<div class="col-2">
		<select class="form-select" id="semNo" th:onchange="getChange([[${memberSubMenuVO.menuCode}]], [[${memberSubMenuVO.subMenuCode}]]);">
				<option value="">전체</option>
			 <th:block th:each="semName : ${semester}">
			 	<option th:value="${semName.semNo}">[[${semName.semName}]]</option>
			 </th:block>
		</select>
		<form th:action="@{/stuMenu/stuClass}" method="post" id="grade_search_form">
			<input type="hidden" name="semNo" th:value="${lectureVO.semNo}">
			<input type="hidden" name="menuCode" th:value="${memberSubMenuVO.menuCode}">
			<input type="hidden" name="subMenuCode" th:value="${memberSubMenuVO.subMenuCode}">
		</form>
	</div>
</div>

<div>
	<canvas id="myChart"></canvas>
</div>


<div class="detail_info">
	<table class="table table-striped table-hover text-center align-middle">
		<!-- align-middle 하면 테이블 중간에 표시. -->
		<colgroup>
			<col width="*">
			<col width="*">
			<col width="*">
			<col width="*">
			<col width="*">
			<col width="*">
		</colgroup>
		<thead>
			<tr>
				<th>No.</th>
				<th>년도 / 학기</th>
				<th>교과번호</th>
				<th>교과목명</th>
				<th>이수구분</th>
				<th>학점</th>
				<th>성적</th>
			</tr>
		</thead>
		<tbody>
		<th:block th:if="${#lists.size(lecture['enrollList']) == 0}">
			<tr>
				<td colspan="7">조회된 성적이 없습니다.</td>
			</tr>
		</th:block>
		<th:block th:if="${#lists.size(lecture['enrollList']) != 0}">
			<tr th:each="lecture , state : ${lecture['enrollList']}">
				<td>[[${state.count}]]</td>
				<td th:text="${lecture.SEM_NAME}"></td>
				<td>320350</td>
				<td th:text="${lecture.LEC_NAME}"></td>
				<td>전공선택</td>
				<td th:text="${lecture['LEC_SCORE']}"></td>
				<td th:text="${lecture['GRADE']}"></td>
			</tr>
		</th:block>
		</tbody>
	</table>
</div>
</th:block>


<th:block layout:fragment="content_js">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="text/javascript" src="/js/content/stu/stu_class/stu_class.js"></script>
</th:block>

</html>