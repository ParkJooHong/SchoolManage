<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{fragment/info_layout}">

<th:block layout:fragment="content_css">
   <link rel="stylesheet" href="/css/content/info/stu_board/donation.css">
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</th:block>

<th:block layout:fragment="content">
<div style="font-size: 15px; color: blue; font-weight: bold;">즐겨찾기 ☆</div>
<div style="font-size: 20px; color: red; font-weight: bold;" >학생기본정보</div>
<div class="tableAdd">
	<table border="3" style="border-color: red;" class="default_info">
		<tr>
			<td>학번</td>
			<td><input type="text" readonly></td>
			<td>성명</td>
			<td><input type="text" readonly></td>
			<td>학년</td>
			<td><input type="text" readonly></td>
			<td>학적상태</td>
			<td><input type="text" readonly></td>
		</tr>
	</table>
</div>
<div style="text-align: center;">
	<button onclick="plus();" class="plus" style="width: 40px; height:30px; border-bottom-left-radius:10px; border-bottom-right-radius:10px;
		font-size: 20px; font-weight: bold; border-color: red;  color: white; background-color: red;">
		+
	</button>
</div>
<br>
<div style="text-align: center;"></div>

<header class="bg-info py-5">
	<div class="container px-4 px-lg-5 my-5">
		<div class="row justify-content-center">
		  <div class="col-lg-6">
			<div class="text-center text-white">
			  <h1 class="display-4 fw-bolder">KH 중고나눔</h1>
			  <p class="lead fw-normal text-red-50 mb-0">
				<div class="donation">
					나눔 하기 버튼을 클릭해보세요!
					<br>
					<button class="btn btn-danger donation">
						<span data-bs-toggle="modal" data-bs-target="#donationModal" style="cursor: pointer;">나눔하기 </span> 
					</button>
			  </p>
			</div>
		  </div>
		</div>
	  </div>
</header>




<!-- 중고상품 나누기 모달 -->
<!-- Modal for Donation -->
<div class="modal fade" id="donationModal" tabindex="-1" role="dialog" aria-labelledby="donationModalLabel" aria-hidden="true">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
		  <h5 class="modal-title" id="donationModalLabel">기부하기</h5>
		  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		</div>
		<div class="modal-body">
		  <form id="donationForm" class="row g-3" th:action="@{/donation/regDonation}" method="post" enctype="multipart/form-data">
			<div class="col-12">
			  <label for="donationName" class="form-label">중고품 이름</label> 
			  <input type="text" class="form-text donationName" id="donationName" name="donationName" placeholder="이름입력!">
			</div>
			<br>
			<div class="col-12">
			  <label for="donationPrice" class="form-label">중고품 가격</label> 
			  <input type="text" class="form-text donationPrice" id="donationPrice" name="donationPrice" placeholder="가격입력!">
			</div>
			<div class="col-12">
			  <label for="donationContent" class="form-label">중고품 내용</label> 
			  <textarea class="form-control donationContent" rows="10" cols="50" name="donationContent"></textarea>
			</div>
			<div class="col-12">
			  <label for="imgPath" class="form-label">상품 이미지 업로드</label>
			  <input type="file" class="form-control" id="imgPath" name="mainImg">
			</div>
			<br>
			<div class="col-6 d-grid">
			  <input type="button" value="중고품 등록" class="btn btn-primary" onclick="insertDonation();">
			</div>
		  </form>
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
		</div>
	  </div>
	</div>
  </div>
  

<!-- Section-->
<div class="detail_info">
    <div class="card">
        <div class="card-header">
            <h5 class="card-title fs-4 badge bg-primary text-wrap  d-flex justify-content-center">중고 장터 목록</h5>
        </div>
        <div class="card-body">
            <div class="row row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
                <div class="col mb-4" th:each="donation, state : ${donationDataList}">
                    <div class="card h-100">
                        <!-- 상품이미지 -->
						<img th:src="${'/image/donation/' + donation.donationBoardImageVO.attachedFileName}" style="display: block; margin: 0 auto;" width="200px" height="200px" />						
						<div class="card-body p-4">
							<div class="text-center">
                                <!-- 상품 이름이 들어갈 곳 th로 반복 -->
                                <h5 class="fw-bolder" th:text="${donation.donationName}"></h5>
                                <!-- 상품 가격이 들어갈 곳. Thymeleaf로 한국 원 표시 가능하게 만들어보자 -->
                                <span>₩</span><span th:text="${donation.donationPrice}+'원'"></span>
                            </div>
					</div>

                        <div class="card-footer p-4 pt-0 border-top-0 bg-transparent d-flex justify-content-center">
                            <button class="btn btn-primary donation" data-bs-toggle="modal" 
							data-bs-target="#donationDetailModal" style="cursor: pointer; margin-right: 10px;">
                                상세보기
                            </button>

							<button class="btn btn-success buy">구입하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- 상세보기 모달  -->
<div class="modal-body">
	<div class="container donation-container">
	  <main>
		<hr>
		<div class="product-detail">
		  <div class="d-flex justify-content-center">
		 <h2>중고 상품 상세보기</h2>
		</div>
		  <hr>
		  Nikes(내가 등록한 상품제목이 들어갈거고)
		  <!-- 상품 이미지가 들어갈 공간 -->
		  <hr class="one" />
		  <div id="product-overview">
			<!-- 상품 이름이 들어갈 공간 -->
			
			<h2 class="producut-title" style="margin-top: 0px"></h2>
			<div class="price-bar">
			  <span>250000원</span>
			  <hr>
			</div>

			<div class="content"">
			  <div class="content">
				<div class="row">
				  <div class="col-md-6">
					<!-- Left half content -->
					<p>여기는 이미지가 들어갈 공간입니다</p>
				  </div>
				  <div class="col-md-6">
					<!-- Right half content -->
					<p>상품상태<br>
					교환여부<br></p>
					</p>
				  </div>
				</div>
			  </div>

			  <hr>
			
			<div class="d-flex justify-content-center">
			  <div class="btn-group" role="group" aria-label="Button Group">
				<button type="button" class="btn btn-primary delete-product">찜하기</button>
				<button type="button" class="btn btn-dark mx-2">바로구매</button>
				<button type="button" class="btn btn-secondary mx-2" data-toggle="modal" data-target="#exampleModal">
				  <i class="far fa-heart"></i>중고톡하기
				</button>
			  </div>
			</div>
			
			
			<div class="product-description">
			  <hr class="one" />
			  <p class="product-buyer-span"></p>
			  <div class="d-flex justify-content-center">
			  <h3>제품 상세 설명</h3>
			  </div>
			  <!--물건 소개가 들어갈 공간 -->
			  Lorem ipsum dolor sit amet consectetur
			  adipisicing elit. Inventore excepturi
			  omnis neque eum, expedita quidem obcaecati nulla doloremque voluptatibus quia id architecto ut ad maiores 
			  
			  cupiditate velit, modi fugit sequi?

				실질적으로 제품에 대한 데이터베이스 콘텐츠가 들어와야한다
				<hr>            
			</div>
		  </div>
		</div>
	  </main>
	</div>
  </div>
  <div class="d-flex justify-content-center">
  <button type="button" class="btn btn-danger delete-product">나가기</button>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js">

</script>
</th:block>


<th:block layout:fragment="content_js">
<script type="text/javascript" src="/js/content/stu/stu_board/donation.js">
	
</script>
</th:block>

</html>